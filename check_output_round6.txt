ðŸ›¡ï¸  Starting Code Quality Checks...
=================================
[0;34mâ–¶ ruff format .[0m
4 files reformatted, 56 files left unchanged
[0;34mâ–¶ ruff check --fix .[0m
Found 5 errors (5 fixed, 0 remaining).
[0;34mâ–¶ mypy .[0m
containers/livesound/src/config.py:34: error: Function is missing a return type annotation  [no-untyped-def]
containers/livesound/src/config.py:34: note: Use "-> None" if function does not return a value
containers/birdnet/test_config_load.py:5: error: Library stubs not installed for "yaml"  [import-untyped]
containers/birdnet/test_config_load.py:18: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/test_config_load.py:18: note: Use "-> None" if function does not return a value
containers/birdnet/test_config_load.py:67: error: Call to untyped function "test_config_load" in typed context  [no-untyped-call]
setup/wifi-connect/wifi_manager.py:71: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
setup/wifi-connect/wifi_manager.py:71: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
setup/wifi-connect/redirect.py:13: error: Function is missing a return type annotation  [no-untyped-def]
setup/wifi-connect/redirect.py:29: error: Function is missing a type annotation  [no-untyped-def]
setup/wifi-connect/redirect.py:37: error: Call to untyped function "get_ip" in typed context  [no-untyped-call]
containers/uploader/src/rclone_wrapper.py:54: error: Missing type parameters for generic type "Callable"  [type-arg]
containers/uploader/src/rclone_wrapper.py:83: error: Missing type parameters for generic type "Callable"  [type-arg]
containers/uploader/src/rclone_wrapper.py:109: error: Missing type parameters for generic type "Callable"  [type-arg]
containers/uploader/src/janitor.py:22: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
containers/uploader/src/janitor.py:102: error: Missing type parameters for generic type "dict"  [type-arg]
containers/recorder/src/mic_profiles.py:14: error: Library stubs not installed for "yaml"  [import-untyped]
containers/recorder/src/mic_profiles.py:46: error: Missing type parameters for generic type "list"  [type-arg]
containers/recorder/src/mic_profiles.py:52: error: Function is missing a return type annotation  [no-untyped-def]
containers/recorder/src/mic_profiles.py:52: note: Use "-> None" if function does not return a value
containers/recorder/src/mic_profiles.py:59: error: Missing type parameters for generic type "dict"  [type-arg]
containers/healthchecker/src/mailer.py:11: error: Function is missing a return type annotation  [no-untyped-def]
containers/healthchecker/src/mailer.py:11: note: Use "-> None" if function does not return a value
containers/healthchecker/src/mailer.py:13: error: Call to untyped function "_configure_notifications" in typed context  [no-untyped-call]
containers/healthchecker/src/mailer.py:15: error: Function is missing a return type annotation  [no-untyped-def]
containers/healthchecker/src/mailer.py:15: note: Use "-> None" if function does not return a value
containers/healthchecker/src/mailer.py:103: error: Returning Any from function declared to return "bool"  [no-any-return]
containers/dashboard/src/wikimedia.py:13: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet_test/test_runner.py:24: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet_test/test_runner.py:48: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet_test/test_runner.py:76: error: Unsupported operand types for - ("None" and "int")  [operator]
containers/birdnet_test/test_runner.py:76: note: Left operand is of type "int | None"
containers/birdnet_test/test_runner.py:134: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet_test/test_runner.py:134: note: Use "-> None" if function does not return a value
containers/birdnet_test/test_runner.py:161: error: Call to untyped function "main" in typed context  [no-untyped-call]
containers/birdnet/src/config.py:7: error: Library stubs not installed for "yaml"  [import-untyped]
containers/birdnet/src/config.py:7: note: Hint: "python3 -m pip install types-PyYAML"
containers/birdnet/src/config.py:7: note: (or run "mypy --install-types" to install all missing stub packages)
containers/birdnet/src/config.py:7: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
containers/birdnet/src/config.py:13: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/config.py:13: note: Use "-> None" if function does not return a value
containers/birdnet/src/config.py:92: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
containers/birdnet/src/config.py:100: error: Returning Any from function declared to return "float"  [no-any-return]
containers/birdnet/src/config.py:104: error: Returning Any from function declared to return "float"  [no-any-return]
containers/birdnet/src/config.py:108: error: Returning Any from function declared to return "float"  [no-any-return]
containers/birdnet/src/config.py:112: error: Returning Any from function declared to return "int"  [no-any-return]
containers/birdnet/src/config.py:116: error: Returning Any from function declared to return "float"  [no-any-return]
containers/birdnet/src/config.py:120: error: Returning Any from function declared to return "float"  [no-any-return]
containers/birdnet/src/config.py:124: error: Returning Any from function declared to return "int"  [no-any-return]
containers/birdnet/src/config.py:127: error: Call to untyped function "Config" in typed context  [no-untyped-call]
containers/birdnet/src/analyzer.py:20: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/analyzer.py:20: note: Use "-> None" if function does not return a value
containers/birdnet/src/analyzer.py:32: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/analyzer.py:228: error: Incompatible return value type (got "None", expected "str")  [return-value]
containers/birdnet/src/analyzer.py:230: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/analyzer.py:255: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/analyzer.py:255: error: Missing type parameters for generic type "dict"  [type-arg]
containers/livesound/src/main.py:34: error: Function is missing a return type annotation  [no-untyped-def]
containers/livesound/src/main.py:34: note: Use "-> None" if function does not return a value
containers/livesound/src/main.py:60: error: Function is missing a return type annotation  [no-untyped-def]
containers/livesound/src/main.py:60: note: Use "-> None" if function does not return a value
containers/livesound/src/main.py:76: error: Call to untyped function "main" in typed context  [no-untyped-call]
containers/birdnet/src/main.py:13: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/main.py:13: note: Use "-> None" if function does not return a value
containers/birdnet/src/main.py:33: error: Argument 1 to "append" of "list" has incompatible type "TimedRotatingFileHandler"; expected "StreamHandler[TextIO | Any]"  [arg-type]
containers/birdnet/src/main.py:45: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/main.py:45: note: Use "-> None" if function does not return a value
containers/birdnet/src/main.py:46: error: Call to untyped function "setup_logging" in typed context  [no-untyped-call]
containers/birdnet/src/main.py:56: error: Call to untyped function "main" in typed context  [no-untyped-call]
setup/wifi-connect/monitor.py:22: error: Missing type parameters for generic type "Popen"  [type-arg]
setup/wifi-connect/monitor.py:83: error: "WifiManager" has no attribute "stop_ap"  [attr-defined]
setup/wifi-connect/app.py:17: error: Function is missing a return type annotation  [no-untyped-def]
setup/wifi-connect/app.py:24: error: Function is missing a return type annotation  [no-untyped-def]
setup/wifi-connect/app.py:35: error: Function is missing a return type annotation  [no-untyped-def]
setup/wifi-connect/app.py:35: note: Use "-> None" if function does not return a value
containers/dashboard/src/auth.py:14: error: Function is missing a return type annotation  [no-untyped-def]
containers/dashboard/src/auth.py:21: error: Function is missing a return type annotation  [no-untyped-def]
containers/dashboard/src/auth.py:39: error: Function is missing a type annotation  [no-untyped-def]
containers/dashboard/src/settings.py:44: error: Function is missing a type annotation  [no-untyped-def]
containers/dashboard/src/settings.py:70: error: Missing type parameters for generic type "dict"  [type-arg]
containers/dashboard/src/settings.py:91: error: Function is missing a type annotation  [no-untyped-def]
containers/dashboard/src/settings.py:94: error: Call to untyped function "deep_update" in typed context  [no-untyped-call]
containers/dashboard/src/settings.py:98: error: Call to untyped function "deep_update" in typed context  [no-untyped-call]
containers/dashboard/src/settings.py:107: error: Missing type parameters for generic type "dict"  [type-arg]
containers/dashboard/src/settings.py:131: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/watcher.py:16: error: Function is missing a type annotation  [no-untyped-def]
containers/birdnet/src/watcher.py:31: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/watcher.py:31: note: Use "-> None" if function does not return a value
containers/birdnet/src/watcher.py:35: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/watcher.py:35: note: Use "-> None" if function does not return a value
containers/birdnet/src/watcher.py:41: error: Call to untyped function "scan_existing" in typed context  [no-untyped-call]
containers/birdnet/src/watcher.py:67: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/watcher.py:94: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/watcher.py:94: note: Use "-> None" if function does not return a value
containers/dashboard/src/main.py:126: error: Untyped decorator makes function "add_security_headers" untyped  [untyped-decorator]
containers/dashboard/src/main.py:127: error: Missing type parameters for generic type "typing.Callable"  [type-arg]
containers/dashboard/src/main.py:911: error: Library stubs not installed for "aiofiles"  [import-untyped]
containers/dashboard/src/main.py:911: note: Hint: "python3 -m pip install types-aiofiles"
tests/test_recorder.py:12: error: Argument 1 to "module_from_spec" has incompatible type "ModuleSpec | None"; expected "ModuleSpec"  [arg-type]
tests/test_recorder.py:14: error: Item "None" of "ModuleSpec | None" has no attribute "loader"  [union-attr]
tests/test_recorder.py:14: error: Item "None" of "Loader | Any | None" has no attribute "exec_module"  [union-attr]
tests/test_recorder.py:20: error: Function is missing a return type annotation  [no-untyped-def]
tests/test_recorder.py:20: note: Use "-> None" if function does not return a value
tests/test_recorder.py:41: error: Function is missing a type annotation  [no-untyped-def]
tests/test_recorder.py:73: error: Function is missing a type annotation  [no-untyped-def]
scripts/db_check.py:11: error: Function is missing a return type annotation  [no-untyped-def]
scripts/db_check.py:11: note: Use "-> None" if function does not return a value
scripts/db_check.py:48: error: Call to untyped function "check" in typed context  [no-untyped-call]
containers/weather/src/analysis.py:20: error: Function is missing a return type annotation  [no-untyped-def]
containers/weather/src/analysis.py:25: error: Function is missing a return type annotation  [no-untyped-def]
containers/weather/src/analysis.py:25: note: Use "-> None" if function does not return a value
containers/weather/src/analysis.py:28: error: Call to untyped function "get_connection" in typed context  [no-untyped-call]
containers/weather/src/analysis.py:46: error: Function is missing a return type annotation  [no-untyped-def]
containers/weather/src/analysis.py:46: note: Use "-> None" if function does not return a value
containers/weather/src/analysis.py:50: error: Call to untyped function "get_connection" in typed context  [no-untyped-call]
containers/birdnet/src/database.py:18: error: Variable "birdnet.src.database.Base" is not valid as a type  [valid-type]
containers/birdnet/src/database.py:18: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
containers/birdnet/src/database.py:18: error: Invalid base class "Base"  [misc]
containers/birdnet/src/database.py:44: error: Variable "birdnet.src.database.Base" is not valid as a type  [valid-type]
containers/birdnet/src/database.py:44: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
containers/birdnet/src/database.py:44: error: Invalid base class "Base"  [misc]
containers/birdnet/src/database.py:60: error: Variable "birdnet.src.database.Base" is not valid as a type  [valid-type]
containers/birdnet/src/database.py:60: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
containers/birdnet/src/database.py:60: error: Invalid base class "Base"  [misc]
containers/birdnet/src/database.py:76: error: Variable "birdnet.src.database.Base" is not valid as a type  [valid-type]
containers/birdnet/src/database.py:76: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
containers/birdnet/src/database.py:76: error: Invalid base class "Base"  [misc]
containers/birdnet/src/database.py:88: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/src/database.py:88: note: Use "-> None" if function does not return a value
containers/birdnet/src/database.py:185: error: Returning Any from function declared to return "list[Watchlist]"  [no-any-return]
containers/birdnet/src/database.py:224: error: Returning Any from function declared to return "bool"  [no-any-return]
containers/birdnet/src/database.py:255: error: Call to untyped function "DatabaseHandler" in typed context  [no-untyped-call]
tools/mock_stream.py:17: error: Function is missing a return type annotation  [no-untyped-def]
tools/mock_stream.py:27: error: Function is missing a type annotation  [no-untyped-def]
tools/mock_stream.py:55: error: Function is missing a return type annotation  [no-untyped-def]
tools/mock_stream.py:74: error: Call to untyped function "process_track" in typed context  [no-untyped-call]
containers/birdnet/test_clip_saving.py:40: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/test_clip_saving.py:40: note: Use "-> None" if function does not return a value
containers/birdnet/test_clip_saving.py:52: error: Function is missing a return type annotation  [no-untyped-def]
containers/birdnet/test_clip_saving.py:52: note: Use "-> None" if function does not return a value
containers/birdnet/test_clip_saving.py:96: error: Argument 1 to "create_dummy_csv" of "TestClipSaving" has incompatible type "Any | None"; expected "str | Path"  [arg-type]
containers/uploader/tests/test_rclone.py:13: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_rclone.py:18: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_rclone.py:25: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_rclone.py:40: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_rclone.py:48: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_rclone.py:68: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_rclone.py:85: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_rclone.py:93: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_rclone.py:114: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_rclone.py:122: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_rclone.py:144: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:13: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:36: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:44: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:56: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:77: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:103: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:150: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:175: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:224: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:239: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:264: error: Function is missing a return type annotation  [no-untyped-def]
containers/uploader/tests/test_main.py:264: note: Use "-> None" if function does not return a value
containers/uploader/tests/test_janitor.py:13: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_janitor.py:17: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_janitor.py:27: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_janitor.py:35: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_janitor.py:38: error: Call to untyped function "create_file" in typed context  [no-untyped-call]
containers/uploader/tests/test_janitor.py:39: error: Call to untyped function "create_file" in typed context  [no-untyped-call]
containers/uploader/tests/test_janitor.py:40: error: Call to untyped function "create_file" in typed context  [no-untyped-call]
containers/uploader/tests/test_janitor.py:57: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_janitor.py:59: error: Call to untyped function "create_file" in typed context  [no-untyped-call]
containers/uploader/tests/test_janitor.py:62: error: Need type annotation for "remote_files" (hint: "remote_files: dict[<type>, <type>] = ...")  [var-annotated]
containers/uploader/tests/test_janitor.py:70: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_janitor.py:72: error: Call to untyped function "create_file" in typed context  [no-untyped-call]
containers/uploader/tests/test_janitor.py:83: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_janitor.py:85: error: Call to untyped function "create_file" in typed context  [no-untyped-call]
containers/uploader/tests/test_janitor.py:96: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_janitor.py:108: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_janitor.py:111: error: Call to untyped function "create_file" in typed context  [no-untyped-call]
containers/uploader/tests/test_database.py:10: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_database.py:19: error: Argument 1 to "module_from_spec" has incompatible type "ModuleSpec | None"; expected "ModuleSpec"  [arg-type]
containers/uploader/tests/test_database.py:21: error: Item "None" of "ModuleSpec | None" has no attribute "loader"  [union-attr]
containers/uploader/tests/test_database.py:21: error: Item "None" of "Loader | Any | None" has no attribute "exec_module"  [union-attr]
containers/uploader/tests/test_database.py:27: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_database.py:39: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_database.py:47: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_database.py:63: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_database.py:79: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_database.py:95: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_database.py:102: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/test_database.py:108: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/conftest.py:15: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/tests/conftest.py:33: error: Function is missing a return type annotation  [no-untyped-def]
containers/uploader/tests/conftest.py:33: note: Use "-> None" if function does not return a value
containers/uploader/tests/conftest.py:62: error: Function is missing a return type annotation  [no-untyped-def]
containers/uploader/tests/conftest.py:70: error: Function is missing a return type annotation  [no-untyped-def]
containers/uploader/tests/conftest.py:80: error: Function is missing a return type annotation  [no-untyped-def]
tests/e2e/test_dashboard.py:12: error: Function is missing a return type annotation  [no-untyped-def]
tests/e2e/test_dashboard.py:29: error: Function is missing a return type annotation  [no-untyped-def]
tests/e2e/test_dashboard.py:36: error: Function is missing a return type annotation  [no-untyped-def]
tests/e2e/test_dashboard.py:50: error: Function is missing a return type annotation  [no-untyped-def]
containers/recorder/src/main.py:40: error: Module has no attribute "handlers"; maybe "Handler"?  [attr-defined]
containers/recorder/src/main.py:103: error: Missing type parameters for generic type "Popen"  [type-arg]
containers/recorder/src/main.py:174: error: Missing type parameters for generic type "Popen"  [type-arg]
containers/recorder/src/main.py:177: error: Item "None" of "IO[Any] | None" has no attribute "readline"  [union-attr]
containers/recorder/src/main.py:186: error: Item "None" of "IO[Any] | None" has no attribute "close"  [union-attr]
containers/recorder/src/main.py:208: error: Function is missing a type annotation  [no-untyped-def]
containers/uploader/src/main.py:216: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
containers/weather/src/main.py:104: error: Returning Any from function declared to return "str | None"  [no-any-return]
containers/uploader/src/database.py:30: error: Incompatible types in assignment (expression has type "Engine", variable has type "None")  [assignment]
containers/uploader/src/database.py:33: error: "None" has no attribute "begin"  [attr-defined]
containers/uploader/src/database.py:62: error: Incompatible types in assignment (expression has type "sessionmaker[Session]", variable has type "None")  [assignment]
containers/uploader/src/database.py:76: error: Incompatible default for argument "error_message" (default has type "None", argument has type "str")  [assignment]
containers/uploader/src/database.py:76: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
containers/uploader/src/database.py:76: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
containers/uploader/src/database.py:83: error: "None" not callable  [misc]
containers/uploader/src/database.py:118: error: "None" not callable  [misc]
Found 183 errors in 36 files (checked 60 source files)
